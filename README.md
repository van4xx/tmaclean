# BotClean - Telegram Mini App

Это Telegram Mini App для бота по заказу уборки квартир BotClean.

## Функциональность

- Просмотр и выбор тарифов
- Назначение уборки с выбором даты и времени
- Просмотр запланированных уборок
- Отмена и перенос уборок
- Интеграция с Telegram ботом

## Настройка и деплой

### Шаг 1: Загрузка файлов на хостинг

Загрузите все файлы из директории `botclean-webapp` на ваш хостинг. Убедитесь, что файлы доступны по HTTPS.

### Шаг 2: Установка URL в BotFather

1. Откройте BotFather в Telegram (@BotFather)
2. Отправьте команду `/mybots`
3. Выберите вашего бота
4. Нажмите "Bot Settings" > "Menu Button" > "Configure menu button"
5. Отправьте текст для кнопки, например "Открыть приложение"
6. Отправьте URL вашего веб-приложения (где вы разместили файлы)

### Шаг 3: Обновление URL в файле бота

В файле `handlers/registration.js` найдите строку:

```javascript
const webAppUrl = 'https://your-webapp-url.com';
```

Замените URL на фактический адрес, где размещено ваше веб-приложение.

### Шаг 4: Проверка работы приложения

1. Перезапустите бота
2. Откройте диалог с ботом
3. Нажмите на кнопку "Открыть приложение" в меню
4. Проверьте, что веб-приложение открывается и работает корректно

## Интеграция с ботом

Приложение отправляет данные боту через метод `tg.sendData()`. Бот обрабатывает эти данные в обработчике `web_app_data`. 

Отправляемые данные имеют следующий формат:

```json
{
  "action": "schedule_cleaning",
  "date": "2023-05-15T07:00:00.000Z",
  "time": "10:00",
  "tariff": "2"
}
```

## Разработка

### Структура файлов

- `index.html` - Основной HTML файл
- `styles.css` - Стили приложения
- `app.js` - JavaScript код

### Локальное тестирование

Для локального тестирования можно использовать любой HTTP-сервер, например:

```
npx http-server ./botclean-webapp
```

Затем открыть приложение в браузере по адресу `http://localhost:8080`.

> **Примечание**: Некоторые функции Telegram Mini App API могут не работать при локальном тестировании. 